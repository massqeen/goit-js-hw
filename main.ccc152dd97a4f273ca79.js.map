{"version":3,"sources":["webpack:///./js/ModalControl.js","webpack:///./js/gallery-items.js","webpack:///./js/GalleryGenerator.js","webpack:///./index.js"],"names":["ModalControl","modalRef","galleryItems","e","code","closeModal","imgId","_galleryItems","length","nextImage","prevImage","window","removeEventListener","keyPressHandler","_buttonPrev","sliderPrevClickHandler","_buttonNext","sliderNextClickHandler","_modalRef","classList","remove","bodyUnLock","setButtonPrevInactive","setButtonNextInactive","this","querySelector","_modalImageRef","_imgId","openModal","resetImgSrc","bodyLock","setButtonPrevActive","setButtonNextActive","add","addEventListener","src","original","document","body","style","paddingRight","innerWidth","offsetWidth","removeAttribute","setAttribute","value","preview","description","id","GalleryGenerator","images","_images","createGalleryElement","img","listItemRef","createElement","listLinkRef","appendChild","insertAdjacentHTML","createAllElements","map","item","refs","gallery","lightbox","lightboxCloseButton","modalControl","galleryGenerator","append","target","nodeName","dataset","imgRef","alt"],"mappings":"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","file":"main.ccc152dd97a4f273ca79.js","sourcesContent":["export default class ModalControl {\r\n  constructor(modalRef, galleryItems) {\r\n    this._modalRef = modalRef;\r\n    this._buttonPrev = this._modalRef.querySelector('.js-lightbox-prev');\r\n    this._buttonNext = this._modalRef.querySelector('.js-lightbox-next');\r\n    this._modalImageRef = this._modalRef.querySelector('.lightbox__image');\r\n    this._galleryItems = galleryItems;\r\n    this._imgId = 0;\r\n  }\r\n\r\n  get imgId() {\r\n    return this._imgId;\r\n  }\r\n\r\n  set imgId(value) {\r\n    this._imgId = value;\r\n  }\r\n\r\n  openModal() {\r\n    this.resetImgSrc();\r\n    this.bodyLock();\r\n    if (this.imgId > 0) {\r\n      this.setButtonPrevActive();\r\n    }\r\n    if (this.imgId < this._galleryItems.length - 1) {\r\n      this.setButtonNextActive();\r\n    }\r\n    this._modalRef.classList.add('is-open');\r\n    window.addEventListener('keydown', this.keyPressHandler);\r\n    this._buttonPrev.addEventListener('click', this.sliderPrevClickHandler);\r\n    this._buttonNext.addEventListener('click', this.sliderNextClickHandler);\r\n  }\r\n\r\n  keyPressHandler = (e) => {\r\n    if (e.code === 'Escape') {\r\n      this.closeModal();\r\n    }\r\n    if (e.code === 'ArrowRight' && this.imgId < this._galleryItems.length - 1) {\r\n      this.nextImage();\r\n    }\r\n    if (e.code === 'ArrowLeft' && this.imgId > 0) {\r\n      this.prevImage();\r\n    }\r\n  };\r\n\r\n  sliderPrevClickHandler = () => {\r\n    this.prevImage();\r\n  };\r\n\r\n  sliderNextClickHandler = () => {\r\n    this.nextImage();\r\n  };\r\n\r\n  prevImage() {\r\n    this._modalImageRef.src = this._galleryItems[+this.imgId - 1].original;\r\n    this.imgId -= 1;\r\n    if (this.imgId === 0) {\r\n      this.setButtonPrevInactive();\r\n    }\r\n    if (this.imgId < this._galleryItems.length - 1) {\r\n      this.setButtonNextActive();\r\n    }\r\n  }\r\n\r\n  nextImage() {\r\n    this._modalImageRef.src = this._galleryItems[+this.imgId + 1].original;\r\n    this.imgId += 1;\r\n    if (this.imgId === this._galleryItems.length - 1) {\r\n      this.setButtonNextInactive();\r\n    }\r\n    if (this.imgId > 0) {\r\n      this.setButtonPrevActive();\r\n    }\r\n  }\r\n\r\n  closeModal = () => {\r\n    window.removeEventListener('keydown', this.keyPressHandler);\r\n    this._buttonPrev.removeEventListener('click', this.sliderPrevClickHandler);\r\n    this._buttonNext.removeEventListener('click', this.sliderNextClickHandler);\r\n    this.imgId = 0;\r\n    this._modalRef.classList.remove('is-open');\r\n    this.bodyUnLock();\r\n    this.setButtonPrevInactive();\r\n    this.setButtonNextInactive();\r\n  };\r\n\r\n  resetImgSrc() {\r\n    this._modalImageRef.src = '';\r\n  }\r\n\r\n  bodyLock() {\r\n    document.body.style.paddingRight =\r\n      window.innerWidth -\r\n      document.querySelector('.container').offsetWidth +\r\n      'px';\r\n    document.body.classList.add('is-lock');\r\n  }\r\n\r\n  bodyUnLock() {\r\n    document.body.style.paddingRight = '0px';\r\n    document.body.classList.remove('is-lock');\r\n  }\r\n\r\n  setButtonPrevActive() {\r\n    this._buttonPrev.removeAttribute('disabled');\r\n    this._buttonPrev.classList.remove('lightbox-slider__btn--inactive');\r\n  }\r\n\r\n  setButtonNextActive() {\r\n    this._buttonNext.removeAttribute('disabled');\r\n    this._buttonNext.classList.remove('lightbox-slider__btn--inactive');\r\n  }\r\n\r\n  setButtonPrevInactive() {\r\n    this._buttonPrev.setAttribute('disabled', 1);\r\n    this._buttonPrev.classList.add('lightbox-slider__btn--inactive');\r\n  }\r\n\r\n  setButtonNextInactive() {\r\n    this._buttonNext.setAttribute('disabled', 1);\r\n    this._buttonNext.classList.add('lightbox-slider__btn--inactive');\r\n  }\r\n}\r\n","export default [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n    id: 0\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n    id: 1\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n    id: 2\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n    id: 3\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n    id: 4\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n    id: 5\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n    id: 6\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n    id: 7\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n    id: 8\r\n  }\r\n];\r\n","export default class GalleryGenerator {\r\n  constructor(images) {\r\n    this._images = images;\r\n  }\r\n\r\n  createGalleryElement(img) {\r\n    const listItemRef = document.createElement('li');\r\n    listItemRef.classList.add('gallery__item');\r\n    const listLinkRef = document.createElement('a');\r\n    listLinkRef.classList.add('gallery__link');\r\n    listItemRef.appendChild(listLinkRef);\r\n    listLinkRef.insertAdjacentHTML(\r\n      'afterbegin',\r\n      `<img class=\"gallery__image\" src=${img.preview} alt=\\\"${img.description}\\\" data-src=${img.original} data-id=${img.id}>`\r\n    );\r\n    return listItemRef;\r\n  }\r\n\r\n  createAllElements() {\r\n    return this._images.map((item) => this.createGalleryElement(item));\r\n  }\r\n}\r\n","import './scss/main.scss';\nimport ModalControl from './js/ModalControl';\nimport galleryItems from './js/gallery-items';\nimport GalleryGenerator from './js/GalleryGenerator';\n\nconst refs = {\n  gallery: document.querySelector('.js-gallery'),\n  lightbox: document.querySelector('.js-lightbox'),\n  lightboxCloseButton: document.querySelector(\n    'button[data-action=\"close-lightbox\"]'\n  )\n};\n\nconst modalControl = new ModalControl(refs.lightbox, galleryItems);\nconst galleryGenerator = new GalleryGenerator(galleryItems);\n\nrefs.gallery.append(...galleryGenerator.createAllElements());\n\nconst galleryClickHandler = (e) => {\n  if (e.target.nodeName === 'IMG') {\n    modalControl.imgId = +e.target.dataset.id;\n    modalControl.openModal();\n    const imgRef = refs.lightbox.querySelector('.lightbox__image');\n    imgRef.src = e.target.dataset.src;\n    imgRef.alt = e.target.alt;\n  }\n};\n\nconst lightboxClickHandler = (e) => {\n  if (e.target === refs.lightboxCloseButton) {\n    modalControl.closeModal();\n  }\n};\n\nrefs.gallery.addEventListener('click', galleryClickHandler);\nrefs.lightbox.addEventListener('click', lightboxClickHandler);\n"],"sourceRoot":""}